name: 'Artifactory Deploy'
description: 'Deploy artifacts to Artifactory'
inputs:
  uri:
    description: 'URI of the Artifactory server'
    required: true
  username:
    description: 'Artifactory username'
    required: true
  password:
    description: 'Artifactory password'
    required: true
  repository:
    description: 'Artifactory repository to which the artifacts should be deployed'
  build-name:
    description: 'Name of the build'
    required: true
  build-number:
    description: 'Number of the build'
    required: true
    default: ${{ github.run_number }}
runs:
  using: 'docker'
  image: 'Dockerfile'
  args:
    - --artifactory.uri=${{ inputs.uri }}
    - --artifactory.username=${{ inputs.username }}
    - --artifactory.password=${{ inputs.password }}
    - --artifactory.build-name=${{ inputs.build-name }}
    - --artifactory.repository=${{ inputs.repository }}
    - --artifactory.build-number=${{ inputs.build-number }}
